<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Реклама перед переходом</title>
    <!-- Підключаємо Tailwind CSS для стилізації -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Додаткові стилі для шрифту Inter */
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
    <!-- Скрипт Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6623599799572768"
     crossorigin="anonymous"></script>
</head>
<body class="bg-gradient-to-br from-blue-500 to-purple-600 min-h-screen flex items-center justify-center p-4">
    <div id="app-container" class="bg-white p-8 rounded-xl shadow-2xl max-w-md w-full text-center transform transition-all duration-300 scale-100 opacity-100">
        <!-- Заголовок сторінки -->
        <h1 class="text-3xl font-bold text-gray-800 mb-6">
            Зачекайте, будь ласка...
        </h1>

        <!-- Блок для відображення "реклами" -->
        <div id="ad-content" class="mb-6">
            <!-- Сюди ви повинні вставити код рекламного блоку Google AdSense. -->
            <!-- Зазвичай це буде <ins class="adsbygoogle" ...></ins> та <script>(adsbygoogle = window.adsbygoogle || []).push({});</script> -->
            <!-- Наприклад: -->
            <!-- <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-6623599799572768"
                 data-ad-slot="YOUR_AD_SLOT_ID"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script> -->
            <p class="text-gray-700 text-sm">
                Це місце для вашого рекламного контенту.
                Вставте сюди код рекламного блоку Google AdSense, отриманий з вашого облікового запису.
            </p>
            <!-- Заглушка для візуалізації, якщо реальний AdSense код ще не вставлено -->
            <img src="https://placehold.co/400x200/FFD700/000000?text=Ваша+Реклама+Тут"
                 alt="Рекламний банер"
                 class="w-full h-auto rounded-lg shadow-md mb-4"
                 onerror="this.src='https://placehold.co/400x200/FFD700/000000?text=Помилка+завантаження+реклами';">
        </div>

        <!-- Зворотний відлік -->
        <p id="countdown" class="text-2xl font-semibold text-gray-800 mb-6">
            Перенаправлення через <span id="timer" class="text-blue-600">5</span> секунд...
        </p>

        <!-- Кнопка "Пропустити рекламу" -->
        <button id="skip-button"
                class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-lg shadow-lg
                       transition-all duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300">
            Пропустити рекламу
        </button>

        <!-- Блок для повідомлень про помилки -->
        <div id="error-message" class="hidden mt-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg" role="alert">
            <p class="font-bold">Помилка:</p>
            <p id="error-text"></p>
        </div>
    </div>

    <script>
        // Очікуємо повного завантаження DOM
        document.addEventListener('DOMContentLoaded', () => {
            const timerElement = document.getElementById('timer');
            const skipButton = document.getElementById('skip-button');
            const errorMessageDiv = document.getElementById('error-message');
            const errorTextElement = document.getElementById('error-text');
            const appContainer = document.getElementById('app-container');

            // Отримуємо цільове посилання з параметрів URL
            // Наприклад, якщо URL сторінки: yoursite.com/adpage.html?url=https://google.com
            const urlParams = new URLSearchParams(window.location.search);
            const targetUrl = urlParams.get('url'); // Отримуємо значення параметра 'url'

            let countdownTime = 5; // Час зворотного відліку в секундах
            let countdownInterval;

            // Функція для перенаправлення
            function redirectToTarget() {
                if (targetUrl) {
                    window.location.href = targetUrl;
                } else {
                    // Якщо цільове посилання не вказано, показуємо повідомлення про помилку
                    appContainer.classList.remove('scale-100', 'opacity-100');
                    appContainer.classList.add('scale-95', 'opacity-0');
                    setTimeout(() => {
                        appContainer.classList.add('hidden');
                        errorMessageDiv.classList.remove('hidden');
                        errorTextElement.textContent = 'Цільове посилання не вказано. Будь ласка, використовуйте формат: ?url=https://your-target-link.com';
                    }, 300); // Затримка для анімації зникнення
                }
            }

            // Перевіряємо, чи є цільове посилання
            if (!targetUrl) {
                redirectToTarget(); // Показуємо помилку, якщо посилання немає
                return; // Зупиняємо виконання скрипту
            }

            // Функція для оновлення зворотного відліку
            function updateCountdown() {
                countdownTime--;
                timerElement.textContent = countdownTime;

                if (countdownTime <= 0) {
                    clearInterval(countdownInterval); // Зупиняємо відлік
                    redirectToTarget(); // Перенаправляємо користувача
                }
            }

            // Запускаємо зворотний відлік
            countdownInterval = setInterval(updateCountdown, 1000);

            // Обробник події для кнопки "Пропустити рекламу"
            skipButton.addEventListener('click', () => {
                clearInterval(countdownInterval); // Зупиняємо відлік
                redirectToTarget(); // Перенаправляємо негайно
            });
        });
    </script>
</body>
</html>
